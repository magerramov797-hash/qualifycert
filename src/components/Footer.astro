---
import LanguageSwitcher from "./LanguageSwitcher.astro";
import { translations } from "../i18n/translations";

const { lang = "az", currentPath = "/" } = Astro.props;
const t = translations[lang];
const prefix = lang === "az" ? "" : `/${lang}`;
const link = (path) => `${prefix}${path === "/" ? "/" : path}`;
---

<footer style="
  border-top:1px solid var(--line);
  padding:48px 0;
  margin-top:72px;
  background: #ffffff;
">
  <div class="container" style="
    display:flex;
    justify-content:space-between;
    gap:32px;
    flex-wrap:wrap;
  ">
    <!-- О компании -->
    <div style="max-width:420px">
      <strong style="font-size:16px;">{t.footer.aboutTitle}</strong>
      <p class="p">
        {t.footer.aboutText}
      </p>
      <div style="margin-top:14px;">
        <LanguageSwitcher currentLang={lang} currentPath={currentPath} />
      </div>
    </div>

    <!-- Навигация -->
    <div style="display:flex; gap:48px; flex-wrap:wrap;">
      <div>
        <div style="font-weight:600; margin-bottom:10px;">{t.footer.sectionsTitle}</div>
        <div style="display:grid; gap:8px;">
          <a href={link("/services/")}>{t.nav.services}</a>
          <a href={link("/standards/")}>{t.nav.standards}</a>
          <a href={link("/industries/")}>{t.nav.industries}</a>
          <a href={link("/insights/")}>{t.nav.insights}</a>
          <a href={link("/faq/")}>{t.nav.faq}</a>
          <a href={link("/contact/")}>{t.nav.contact}</a>
        </div>
      </div>

      <div>
        <div style="font-weight:600; margin-bottom:10px;">{t.footer.insightsTitle}</div>
        <div style="display:grid; gap:8px;">
          <a href={link("/insights/blog/")}>{t.footer.blog}</a>
          <a href={link("/insights/cases/")}>{t.footer.cases}</a>
        </div>
      </div>

      <div>
        <div style="font-weight:600; margin-bottom:10px;">{t.footer.documentsTitle}</div>
        <div style="display:grid; gap:8px;">
          <a href={link("/privacy/")}>{t.footer.privacy}</a>
          <a href={link("/cookies/")}>{t.footer.cookies}</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Копирайт -->
  <div class="container" style="
    margin-top:28px;
    padding-top:18px;
    border-top:1px solid var(--line);
    color: var(--muted);
    font-size:13px;
  ">
    © {new Date().getFullYear()} QualifyCert. {t.footer.rights}
  </div>
</footer>
